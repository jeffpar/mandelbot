(function(){/*
 (c) Jeff Parsons 2017

 This file is part of an open-source project (https://github.com/jeffpar/mandelbot) with no formal
 license.  It may be freely reused.  Any derivative work just needs to provide attribution along with
 the above copyright.
*/
var m=!1,n=null,p=1E3/60|0,q,r=0,t=[],u=0,v=1/Math.log(2),w=Math.log(.5)*v;
function x(k,l,a,b,e,g,f,d){l=void 0===l?0:l;a=void 0===a?0:a;d=void 0===d?"":d;this.D=void 0===b?-.5:b;this.G=void 0===e?0:e;this.B=void 0===g?1:g;this.u=void 0===f?1:f;this.v=[0,0,0,0];this.g="max iterations per "+p+"ms timeslice: "+q;try{var c;a:{if(this.h=document.getElementById(k))if(this.A=this.h.width,this.w=this.h.height,this.i=this.h.getContext("2d")){this.i.imageSmoothingEnabled=!1;c=!0;break a}this.g="Missing view canvas";c=!1}var h;if(h=c)a:{var A=l||this.A,B=a||this.w;if(this.b=this.i.createImageData(A,
B))if(this.c=document.createElement("canvas"))if(this.c.width=this.a=A,this.c.height=this.j=B,this.C=this.c.getContext("2d")){h=!0;break a}this.g="Unable to create grid canvas";h=!1}h&&(this.f=this.l=0,this.s=this.D-this.B,this.F=2*this.B/this.a,this.I=this.G+this.u,this.H=2*this.u/this.j,this.m=this.s,this.o=this.I)}catch(J){this.g=J.message}d&&(this.status=document.getElementById(d))&&(this.status.innerHTML=this.g)}
function y(k,l,a,b){a=a||100;var e=0,g=0,f=0,d=0,c,h=a;do g=2*e*g+l,e=f-d+k,c=(f=e*e)+(d=g*g);while(0<--h&&4>c);if(b){b[0]=a;if(b[1]=h){h=4;do g=2*e*g+l,e=f-d+k,f=e*e,d=g*g;while(0<--h)}b[2]=f;b[3]=d}(r+=a-h)>=q&&(m=!0);return h}var z=0,C=8,z=void 0===z?0:z,C=void 0===C?1:C,D=0,E=0;do{var F=0,G=Date.now(),H,I=50;do{var I=2*I,K=y(-.5,0,z+I);H=Date.now()-G;if(H>=p)break;F+=z+I-K;z=0}while(1);D+=F;C&&(z=Math.floor(F/C));E++}while(0<--C);q=Math.floor(D/E);
function L(){m=!1;n=null;r=0;for(var k=!1,l=t.length;l--;){for(var a=t[u],b=!1,e=a.f,g=a.l,f=0,d=0;a.l<a.j;){for(;!m&&a.f<a.a;){y(a.m,a.o,0,a.v);var b=a.v,c=0;b[1]&&(c=5+(b[0]-b[1])-w-Math.log(Math.log(b[2]+b[3]))*v,c=Math.floor(512*c/b[0]),255<c&&(c=255),c=c|c<<8|c<<16);var b=a,h=4*(a.l*b.a+a.f);b.b.data[h]=c&255;b.b.data[h+1]=c>>8&255;b.b.data[h+2]=c>>16&255;b.b.data[h+3]=255;a.m+=a.F;a.f++;d||f++;b=!0}if(m)break;a.m=a.s;a.f=0;a.o-=a.H;a.l++;e=0;f=a.a;d++}b&&(d||d++,f=void 0===f?a.a:f,d=void 0===
d?a.j:d,a.C.putImageData(a.b,0,0,void 0===e?0:e,void 0===g?0:g,f,d),a.i.drawImage(a.c,0,0,a.a,a.j,0,0,a.A,a.w));if(b){k=!0;break}++u>=t.length&&(u=0)}k&&(n=setTimeout(L,0))}window.initViewport=function(k,l,a,b,e,g,f,d,c){c=void 0===c?!0:c;k=new x(k,l,a,b,e,g,f,d);c&&(t.push(k),null==n&&L());return k};})() //# sourceMappingURL=/src/mandelbot.js.map
