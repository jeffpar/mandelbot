(function(){/*
 (c) Jeff Parsons 2017

 This file is part of an open-source project (https://github.com/jeffpar/mandelbot) with no formal
 license.  It may be freely reused.  Any derivative work just needs to provide attribution along with
 the above copyright.
*/
for(var m="function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[f]=a.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,p=["Math","trunc"],q=0;q<p.length-1;q++){var r=p[q];r in n||(n[r]={});n=n[r]}
var t=p[p.length-1],u=n[t],v=u?u:function(b){b=Number(b);if(isNaN(b)||Infinity===b||-Infinity===b||!b)return b;var f=Math.floor(Math.abs(b));return 0>b?-f:f};v!=u&&null!=v&&m(n,t,{configurable:!0,writable:!0,value:v});var w=!1,x=null,y=1E3/60|0,z,A=0,B=[],C=0,D=1/Math.log(2),E=Math.log(.5)*D;
function F(b,f,a,c,d,e,l,g){f=void 0===f?0:f;a=void 0===a?0:a;g=void 0===g?"":g;this.D=void 0===c?-.5:c;this.G=void 0===d?0:d;this.B=void 0===e?1:e;this.u=void 0===l?1:l;this.v=[0,0,0,0];this.f="max iterations per "+y+"ms timeslice: "+z;try{var h;a:{if(this.g=document.getElementById(b))if(this.A=this.g.width,this.w=this.g.height,this.i=this.g.getContext("2d")){this.i.imageSmoothingEnabled=!1;h=!0;break a}this.f="Missing view canvas";h=!1}var k;if(k=h)a:{var H=f||this.A,I=a||this.w;if(this.a=this.i.createImageData(H,
I))if(this.b=document.createElement("canvas"))if(this.b.width=this.c=H,this.b.height=this.j=I,this.C=this.b.getContext("2d")){k=!0;break a}this.f="Unable to create grid canvas";k=!1}k&&(this.h=this.m=0,this.s=this.D-this.B,this.F=2*this.B/this.c,this.I=this.G+this.u,this.H=2*this.u/this.j,this.l=this.s,this.o=this.I)}catch(S){this.f=S.message}g&&(this.status=document.getElementById(g))&&(this.status.innerHTML=this.f)}
function G(b){b.C.putImageData(b.a,0,0,0,0,b.c,b.j);b.i.drawImage(b.b,0,0,b.c,b.j,0,0,b.A,b.w)}function J(b,f,a,c){a=a||100;var d=0,e=0,l=0,g=0,h,k=a;do e=2*d*e+f,d=l-g+b,h=(l=d*d)+(g=e*e);while(0<--k&&4>h);if(c){c[0]=a;if(c[1]=k){k=4;do e=2*d*e+f,d=l-g+b,l=d*d,g=e*e;while(0<--k)}c[2]=l;c[3]=g}(A+=a-k)>=z&&(w=!0);return k}var K=0,L=8,K=void 0===K?0:K,L=void 0===L?1:L,M=0,N=0;
do{var O=0,P=Date.now(),Q,R=50;do{var R=2*R,T=J(-.5,0,K+R);Q=Date.now()-P;if(Q>=y)break;O+=K+R-T;K=0}while(1);M+=O;L&&(K=Math.trunc(O/L));N++}while(0<--L);z=Math.trunc(M/N);
function U(){w=!1;x=null;A=0;for(var b=!1,f=B.length;f--;){var a;a:{a=B[C];for(var c=!1;a.m<a.j;){for(;a.h<a.c;){J(a.l,a.o,0,a.v);var c=a.v,d=0;c[1]&&(d=5+(c[0]-c[1])-E-Math.log(Math.log(c[2]+c[3]))*D,d=Math.floor(512*d/c[0])&255,d=d|d<<8|d<<16);var c=a,e=4*(a.m*c.c+a.h);c.a.data[e]=d&255;c.a.data[e+1]=d>>8&255;c.a.data[e+2]=d>>16&255;c.a.data[e+3]=255;a.l+=a.F;a.h++;if(w){G(a);a=!0;break a}c=!0}a.l=a.s;a.h=0;a.o-=a.H;a.m++}c&&G(a);a=c}if(a){b=!0;break}++C>=B.length&&(C=0)}b&&(x=setTimeout(U,0))}
window.initViewport=function(b,f,a,c,d,e,l,g,h){h=void 0===h?!0:h;b=new F(b,f,a,c,d,e,l,g);h&&(B.push(b),null==x&&U());return b};})() //# sourceMappingURL=/src/mandelbot.js.map
