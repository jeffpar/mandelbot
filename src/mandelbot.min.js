(function(){/*
 (c) Jeff Parsons 2017

 This file is part of an open-source project (https://github.com/jeffpar/mandelbot) with no formal
 license.  It may be freely reused.  Any derivative work just needs to provide attribution along with
 the above copyright.
*/
for(var m="function"==typeof Object.defineProperties?Object.defineProperty:function(c,h,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");c!=Array.prototype&&c!=Object.prototype&&(c[h]=a.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,p=["Math","trunc"],q=0;q<p.length-1;q++){var r=p[q];r in n||(n[r]={});n=n[r]}
var t=p[p.length-1],u=n[t],v=u?u:function(c){c=Number(c);if(isNaN(c)||Infinity===c||-Infinity===c||!c)return c;var h=Math.floor(Math.abs(c));return 0>c?-h:h};v!=u&&null!=v&&m(n,t,{configurable:!0,writable:!0,value:v});var w=!1,x=null,y=1E3/60|0,z,A=0,B=[],C=0,D=1/Math.log(2),E=Math.log(.5)*D;
function F(c,h,a,b,f,k,g,e){h=void 0===h?0:h;a=void 0===a?0:a;e=void 0===e?"":e;this.D=void 0===b?-.5:b;this.G=void 0===f?0:f;this.B=void 0===k?1:k;this.u=void 0===g?1:g;this.v=[0,0,0,0];this.g="max iterations per "+y+"ms timeslice: "+z;try{var d;a:{if(this.h=document.getElementById(c))if(this.A=this.h.width,this.w=this.h.height,this.i=this.h.getContext("2d")){this.i.imageSmoothingEnabled=!1;d=!0;break a}this.g="Missing view canvas";d=!1}var l;if(l=d)a:{var H=h||this.A,I=a||this.w;if(this.b=this.i.createImageData(H,
I))if(this.c=document.createElement("canvas"))if(this.c.width=this.a=H,this.c.height=this.j=I,this.C=this.c.getContext("2d")){l=!0;break a}this.g="Unable to create grid canvas";l=!1}l&&(this.f=this.l=0,this.s=this.D-this.B,this.F=2*this.B/this.a,this.I=this.G+this.u,this.H=2*this.u/this.j,this.m=this.s,this.o=this.I)}catch(R){this.g=R.message}e&&(this.status=document.getElementById(e))&&(this.status.innerHTML=this.g)}
function G(c,h,a,b){a=a||100;var f=0,k=0,g=0,e=0,d,l=a;do k=2*f*k+h,f=g-e+c,d=(g=f*f)+(e=k*k);while(0<--l&&4>d);if(b){b[0]=a;if(b[1]=l){l=4;do k=2*f*k+h,f=g-e+c,g=f*f,e=k*k;while(0<--l)}b[2]=g;b[3]=e}(A+=a-l)>=z&&(w=!0);return l}var J=0,K=8,J=void 0===J?0:J,K=void 0===K?1:K,L=0,M=0;do{var N=0,O=Date.now(),P,Q=50;do{var Q=2*Q,S=G(-.5,0,J+Q);P=Date.now()-O;if(P>=y)break;N+=J+Q-S;J=0}while(1);L+=N;K&&(J=Math.trunc(N/K));M++}while(0<--K);z=Math.trunc(L/M);
function T(){w=!1;x=null;A=0;for(var c=!1,h=B.length;h--;){for(var a=B[C],b=!1,f=a.f,k=a.l,g=0,e=0;a.l<a.j;){for(;!w&&a.f<a.a;){G(a.m,a.o,0,a.v);var b=a.v,d=0;b[1]&&(d=5+(b[0]-b[1])-E-Math.log(Math.log(b[2]+b[3]))*D,d=Math.floor(512*d/b[0]),255<d&&(d=255),d=d|d<<8|d<<16);var b=a,l=4*(a.l*b.a+a.f);b.b.data[l]=d&255;b.b.data[l+1]=d>>8&255;b.b.data[l+2]=d>>16&255;b.b.data[l+3]=255;a.m+=a.F;a.f++;e||g++;b=!0}if(w)break;a.m=a.s;a.f=0;a.o-=a.H;a.l++;f=0;g=a.a;e++}b&&(e||e++,g=void 0===g?a.a:g,e=void 0===
e?a.j:e,a.C.putImageData(a.b,0,0,void 0===f?0:f,void 0===k?0:k,g,e),a.i.drawImage(a.c,0,0,a.a,a.j,0,0,a.A,a.w));if(b){c=!0;break}++C>=B.length&&(C=0)}c&&(x=setTimeout(T,0))}window.initViewport=function(c,h,a,b,f,k,g,e,d){d=void 0===d?!0:d;c=new F(c,h,a,b,f,k,g,e);d&&(B.push(c),null==x&&T());return c};})() //# sourceMappingURL=/src/mandelbot.js.map
