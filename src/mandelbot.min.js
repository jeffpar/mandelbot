(function(){/*
 (c) Jeff Parsons 2017

 This file is part of an open-source project (mandelbot) and may be freely reused.
 Any derivative work just needs to provide attribution along with the above copyright.
*/
for(var l="function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[d]=a.value)},m="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,n=["Math","trunc"],p=0;p<n.length-1;p++){var q=n[p];q in m||(m[q]={});m=m[q]}
var t=n[n.length-1],u=m[t],v=u?u:function(b){b=Number(b);if(isNaN(b)||Infinity===b||-Infinity===b||!b)return b;var d=Math.floor(Math.abs(b));return 0>b?-d:d};v!=u&&null!=v&&l(m,t,{configurable:!0,writable:!0,value:v});var w=!1,x=null,y=1E3/60|0,z,A=0,B=[],C=0;
function D(b,d,a,c,e,f,k,h){d=void 0===d?0:d;a=void 0===a?0:a;h=void 0===h?"":h;this.C=void 0===c?-.5:c;this.F=void 0===e?0:e;this.w=void 0===f?1:f;this.s=void 0===k?1:k;this.f="max iterations per "+y+"ms timeslice: "+z;try{var g;a:{if(this.g=document.getElementById(b))if(this.v=this.g.width,this.u=this.g.height,this.i=this.g.getContext("2d")){this.i.imageSmoothingEnabled=!1;g=!0;break a}this.f="Missing view canvas";g=!1}var r;if(r=g)a:{var G=d||this.v,H=a||this.u;if(this.a=this.i.createImageData(G,
H))if(this.b=document.createElement("canvas"))if(this.b.width=this.c=G,this.b.height=this.j=H,this.B=this.b.getContext("2d")){r=!0;break a}this.f="Unable to create grid canvas";r=!1}r&&(this.h=this.m=0,this.A=this.C-this.w,this.D=2*this.w/this.c,this.H=this.F+this.s,this.G=2*this.s/this.j,this.l=this.A,this.o=this.H)}catch(Q){this.f=Q.message}h&&(this.status=document.getElementById(h))&&(this.status.innerHTML=this.f)}
function E(b){b.B.putImageData(b.a,0,0,0,0,b.c,b.j);b.i.drawImage(b.b,0,0,b.c,b.j,0,0,b.v,b.u)}function F(b,d,a){a=void 0===a?100:a;var c=0,e=0,f=0,k=0,h,g=a;do e=2*c*e+d,c=f-k+b,h=(f=c*c)+(k=e*e);while(0<--g&&4>h);(A+=a-g)>=z&&(w=!0);return g}var I=0,J=8,I=void 0===I?0:I,J=void 0===J?1:J,K=0,L=0;do{var M=0,N=Date.now(),O,P=50;do{var P=2*P,R=F(-.5,0,I+P);O=Date.now()-N;if(O>=y)break;M+=I+P-R;I=0}while(1);K+=M;J&&(I=Math.trunc(M/J));L++}while(0<--J);z=Math.trunc(K/L);
function S(){w=!1;x=null;A=0;for(var b=!1,d=B.length;d--;){var a;a:{a=B[C];for(var c=!1;a.m<a.j;){for(;a.h<a.c;){var e=F(a.l,a.o)?-1:0,c=a,f=4*(a.m*c.c+a.h);c.a.data[f]=e&255;c.a.data[f+1]=e>>8&255;c.a.data[f+2]=e>>16&255;c.a.data[f+3]=255;a.l+=a.D;a.h++;if(w){E(a);a=!0;break a}c=!0}a.l=a.A;a.h=0;a.o-=a.G;a.m++}c&&E(a);a=c}if(a){b=!0;break}++C>=B.length&&(C=0)}b&&(x=setTimeout(S,0))}
window.initViewport=function(b,d,a,c,e,f,k,h,g){g=void 0===g?!0:g;b=new D(b,d,a,c,e,f,k,h);g&&(B.push(b),null==x&&S());return b};})() //# sourceMappingURL=/src/mandelbot.js.map
