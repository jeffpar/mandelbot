{% comment %}
Viewports must have the following properties:

  id (example: mandelbot1)

Viewports may also have the following properties:

  viewWidth (default: 200)
  viewHeight (default: 200)
  gridWidth (default: viewWidth)
  gridHeight (default: viewHeight)
  styleWidth (default: auto)
  styleHeight (default: auto)
  idStatus (default: )

Any property definition in the include tag overrides that property definition in the Front Matter.

{% endcomment %}
{% assign view = nil %}
{% for viewport in page.viewports %}
  {% if include.id == viewport.id %}
    {% assign view = viewport %}
    {% break %}
  {% endif %}
{% endfor %}
{% assign viewWidth = include.viewWidth | default: view.viewWidth | default: '200' %}
{% assign viewHeight = include.viewHeight | default: view.viewHeight | default: '200' %}
{% assign gridWidth = include.gridWidth | default: view.gridWidth | default: viewWidth %}
{% assign gridHeight = include.gridHeight | default: view.gridHeight | default: viewHeight %}
{% assign styleWidth = include.styleWidth | default: view.styleWidth | default: 'auto' %}
{% assign styleHeight = include.styleHeight | default: view.styleHeight | default: 'auto' %}
{% capture viewStyle %}width:{{styleWidth}};height:{{styleHeight}}{% endcapture %}
<canvas class="mandelbot-viewport" id="{{ include.id }}" width="{{ viewWidth }}" height="{{ viewHeight }}" style="{{ viewStyle }}"></canvas>
{% if include.idStatus or view.idStatus %}
<p class="mandelbot-status" id="{{ include.idStatus | default: view.idStatus }}">No status</p>
{% endif %}
<script type="text/javascript">initViewport("{{ include.id }}",{{ gridWidth }},{{ gridHeight }},"{{ include.idStatus | default: view.idStatus }}");</script>
